# Default values for frontend Helm chart

# Number of replicas for the frontend deployment
replicaCount: 2

image:
  # Container registry and repository
  repository: ghcr.io/natosullivan/cuddly-disco/frontend
  # Image pull policy
  pullPolicy: Always
  # Override the image tag (defaults to chart appVersion)
  tag: "v1.0.5"

# Image pull secrets for private registries
imagePullSecrets: []

# Override the name of the chart
nameOverride: ""
fullnameOverride: ""

# Namespace configuration
namespace:
  name: cuddly-disco-frontend
  create: true
  labels:
    app: cuddly-disco

# Service configuration
service:
  type: NodePort
  port: 3000
  targetPort: 3000
  nodePort: 30001
  annotations: {}

# Application configuration
config:
  # Location displayed in the frontend (Next.js env var)
  location: "Sydney"
  # Backend service URL (internal Kubernetes DNS)
  backendUrl: "http://backend-service.cuddly-disco-backend.svc.cluster.local:5000"

# Resource limits and requests
resources:
  limits:
    cpu: 100m
    memory: 128Mi
  requests:
    cpu: 50m
    memory: 64Mi

# Liveness probe configuration
livenessProbe:
  httpGet:
    path: /api/health
    port: http
  initialDelaySeconds: 10
  periodSeconds: 10
  timeoutSeconds: 5
  failureThreshold: 3

# Readiness probe configuration
readinessProbe:
  httpGet:
    path: /api/health
    port: http
  initialDelaySeconds: 5
  periodSeconds: 5
  timeoutSeconds: 3
  failureThreshold: 3

# Startup probe configuration
# Gives the container up to 60 seconds to start (12 * 5 = 60s)
# This prevents the container from being killed during slow startups
startupProbe:
  httpGet:
    path: /api/health
    port: http
  initialDelaySeconds: 5
  periodSeconds: 5
  timeoutSeconds: 3
  failureThreshold: 12

# Pod annotations
podAnnotations: {}

# Pod security context
podSecurityContext: {}

# Container security context
securityContext: {}

# Node selector
nodeSelector: {}

# Tolerations
tolerations: []

# Affinity rules
affinity: {}
